Next: integration of User, Profile, FinancialProfile, Loan, Schedule, Payment models into the system.
-------------------------------------------------------------
CHECK EVERY PART OF THE SYSTEM IN ISOLATION:

(All files in here are created. The ones with the cross are not yet tested)

C:.
â”‚   index.mjs
â”‚
â”œâ”€â”€â”€actors
â”‚   â”œâ”€â”€â”€auth
â”‚   â”‚       extractToken.js (âœ…).
â”‚   â”‚       tokenExists.js (âœ…)
â”‚   â”‚       validatePayloadStrcture.js (âœ…)
â”‚   â”‚       verifyPassword.js (âœ…)
â”‚   â”œâ”€â”€â”€financialProfile
â”‚   â”‚       updateFinancialProfileFields.js (âŒ)
â”‚   â”œâ”€â”€â”€loan
â”‚   â”‚       createLoan.js (âŒ)
â”‚   â”‚       generateLoanId.js (âŒ)
â”‚   â”‚       simulateLoan.js (âŒ)
â”‚   â”œâ”€â”€â”€utils
â”‚   â”‚       updateProfileFields.js (âŒ)
â”‚   â”œâ”€â”€â”€retrievers
â”‚   â”‚       userRetriever.js (âœ…)ğŸ”
â”‚   â”‚
â”‚   â”œâ”€â”€â”€utils
â”‚               hasControlChars.js (âœ…)
â”‚               hasEmoji.js (âœ…) 
â”‚               hasWhiteSpaces.js (âœ…)
â”‚               isNotSymbol.js (âœ…)
â”‚   â””â”€â”€â”€validators
â”‚       â””â”€â”€â”€auth
â”‚               checkUserUniqueness.js (âœ…)
â”‚               loginResponse.js (âœ…)
â”‚               validateEmailInput.js (âœ…)
â”‚               validateLoginInput.js (âœ…)
â”‚               validateName.js (âœ…)
â”‚               validatePasswordInput.js (âœ…) 
â”‚               validateRegistrationInput.js (âœ…)
â”‚       â””â”€â”€â”€loan
â”‚               validateLoanInput.js (âŒ)
â”œâ”€â”€â”€config
â”‚       jwtConfig.js (ğŸ”...) âœ…
â”‚       loanConfig.js (âœ…)
â”‚       mock.loans.db.config.js (âŒ)
â”‚       mock.users.db.config.js (âœ…)
â”‚       passwordSecretConfig.js (âœ…)
â”‚       registerData.js (âœ…)
â”‚       userConfig.js (âœ…)
â”‚
â”œâ”€â”€â”€db
â”‚       pool.js (âŒ)
â”œâ”€â”€â”€controllers
â”‚       authController.mjs (
          âœ…registerUserController(),
          âœ…loginUserController()
          ) 
â”‚       financialProfileController.mjs (âŒ)
â”‚       loanController.mjs (âœ…)
â”‚       profileController.mjs (âœ…) 
â”‚
â”œâ”€â”€â”€entities
â”‚       financialProfileEntity.js (âŒ)
â”‚       loanEntity.js (âŒ)
â”‚       paymentEntity.js (âŒ)
â”‚       profileEntity.js (âŒ)
â”‚       scheduleEntity.js (âŒ)
â”‚       userEntity.js (âœ…)
â”‚
â”œâ”€â”€â”€errors
â”‚       AppError.js (âœ…)
â”‚       src\errors\authErrors.js (âœ…)
â”‚       errorRegistry.js (âœ…) 
â”‚       loanErrors.js (âŒ) 
â”‚       mapError.js (âœ…)
â”‚       profileErrors.js (âœ…)
â”‚       registrationErrors.js (âœ…)
â”‚       tokenError.js (âœ…)
â”‚       TokenGenerationError.js (âœ…)
â”‚
â”œâ”€â”€â”€middlewares
â”‚       authMiddleware.js (
            âœ…tokenExists() (lives in token.js)
            âœ…extractToken() 
            âœ…verifyToken() 
            âœ…decodePayload() (lives in token.js)
            âœ…isTokenExpired
        ) âœ…
â”‚       errorHandler.js (âœ…)
â”‚
â”œâ”€â”€â”€models
â”‚       financialProfileModel.js (âŒ)
â”‚       loanModel.js (âœ…)
â”‚       paymentModel.js (âœ…)
â”‚       profileModel.js (âœ…)
â”‚       scheduleModel.js (âœ…)
â”‚       userModel.js (âœ…)
â”‚
â”œâ”€â”€â”€repositories
â”‚       loanRepository.js (âŒ)
â”‚       userRepo.js (
  âœ…findUserByEmail
  âœ…findUserById
  âœ…saveUser
  âœ…listUsers 
  âœ…deleteUser
   5 inner functions)
â”‚
â”œâ”€â”€â”€routes
â”‚   â”œâ”€â”€â”€auth
â”‚   â”‚       auth.route.js (âŒ)(in order to test this it is necessary to connect the methods to a real database.)
â”‚   â”œâ”€â”€â”€financialProfile
â”‚   â”‚       financialProfile.route.js (âŒ) (in order to test this it is necessary to connect the methods to a real database.)
â”‚   â”œâ”€â”€â”€loan
â”‚   â”‚       loanRoutes.js (âŒ) (in order to test this it is necessary to connect the methods to a real database.)
â”‚   â”‚
â”‚   â””â”€â”€â”€profile
â”‚           profile.route.js (âŒ) (in order to test this it is necessary to connect the methods to a real database.)
â”‚
â”œâ”€â”€â”€services
â”‚   â”œâ”€â”€â”€auth
â”‚   â”‚       registerUser.mjs (âœ…)
â”‚   â”‚
â”‚   â”œâ”€â”€â”€loan
â”‚   â”‚       loanCalculator.js (
  âŒ calculateRepaymentCapacity ğŸ”
  âœ…calculateMaxLoanCapacity
  âœ…calculateCompoundInterest
  âœ…fixedPaymentCalculation 
  âœ…generateAmortizationSchedule
  âœ…calculateInterestSaving
  âœ…applyEarlyRepayment
  )
â”‚   â”‚
â”‚   â””â”€â”€â”€user
â”‚           generateUserId.js (âœ…)
â”‚           user.service.js (âœ…)
â”‚
â”œâ”€â”€â”€tests
â”‚
â””â”€â”€â”€utils
    â””â”€â”€â”€auth
            comparePasswords.js (âœ…) 
            generateSignature.js (âœ…)
            hashPassword.js (âœ…)
            invalidateUserToken.js (âœ…)
            refreshToken.js (âœ…)
            token.js (
              âœ…tokenExists
              âœ…verifyToken
              âœ…decodePayload
              âœ…isTokenExpired 
              ) 
            tokenIssuer.js (âœ…)
            verifyToken.js (âœ…)



-----------------------------------------------------------------------WORKSPACE
TRELLO:https://trello.com/b/9ty2CCja/finance-advisor
--------------
MIRO:https://miro.com/welcomeonboard/WDh1Uy9JWlRjZUJQYkJuaS9wV2l2clVhbE1SVk5FVlVCbk1YSUVLRFhFY2VCdjUyN0h1VVdmNEZ0VFpxVGEwcHNDRjRvM3VHR3l4cUpoREdmRkFjdFp6b3R5dlZINCtLenBvV2s5WFlYb1Nmd0lRaGpVSVBlYkNCOStsZEtleVZyVmtkMG5hNDA3dVlncnBvRVB2ZXBnPT0hdjE=?share_link_id=208190572952
-----------------------------------------------------------------------DAY'S BACKLOG

- Use POSTMAN for register attempt [âœ…]
- Use POSTMAN for login attempt [âœ…]
- Use POSTMAN for secured routes access attempt [âœ…]

Please make sure that before each testing case actors are pure as much as possible. 
  +registerController[âœ…]
  +loginController[âœ…]

--------------

-----------------------------------------------------------------------COURSE TASKS (must)

  1-GITHUB REPOSITORY (
    +Table of contents
      *Overview (âœ…)
      *Description (âœ…)
      *ERD (erd âœ…, add it to the github REPOSITORY's content)
  ) âœ…

  2-Implement authentication in your application. âœ…
    Assignment: Choose and implement one of the authentication methods we covered in class:
      -JWT (JSON Web Tokens) (chosen)
      -OAuth 2.0
    Important: You must implement the authentication logic from scratch without using ready-made 
      authentication libraries. This will help you understand how these protocols 
      work under the hood. (login process âŒ)

  3-Create DB schema as diagram. In your application u should have at list 3 DB tables.âœ…
  
  4-Your task is to implement the database you designed in your diagram by creating executable SQL scripts.âŒ
    It can be any SQL database. If you don't know which to use - I recommend to use PostgreSQL.
    Requirements:
      4.1-Create a comprehensive SQL script (.sql file) that generates all tables, relationships, indexes,
        and constraints from your database diagram
--------------

-----------------------------------------------------------------------CORE FEATURES
ğŸ—‚ï¸ Suggested Categorization
    âœ… Core Logic
        -Basic loan calculation (âœ…)
        -Monthly payment calculation (âœ…)
        -Total repayment amount (âœ…)
        -Compound interest logic (âœ…)
        -Amortization schedule (âœ…)
        -Early repayment logic (âœ…)
        -Input validation (check)
--------------

-----------------------------------------------------------------------NOT CORE FEATURES
--------------
Notes:
- Test that CRUD functinalities are working for loan entity.
- The only entity that already has the CRUD is loans, the entire others also need it. So that is pending...
- Test that all CRUD functions are working for every entity.














Roadmap
.ğŸŸ¢ DÃ­a 1: Persistencia y validaciÃ³n de prÃ©stamos
âœ… Completado

ğŸŸ¡ DÃ­a 2: Lectura y consulta + CRUD de usuarios
ğŸ“„ Loans âœ… D2-L1 Repositorio getLoanById(id) [ ] D2-L2 Repositorio getLoans() ordenado por savedAt âœ… D2-L3 Test getLoanById() vÃ¡lido e invÃ¡lido [ ] D2-L4 Test getLoans() incluye prÃ©stamo guardado

ğŸ‘¤ Users [ ] D2-U1 Tabla users con id, email, name, created_at [ ] D2-U2 Repositorio saveUser(), getUserById() [ ] D2-U3 Actor validateUserInput() [ ] D2-U4 Test saveUser() vÃ¡lido e invÃ¡lido [ ] D2-U5 Test getUserById() vÃ¡lido e inexistente

ğŸ”µ DÃ­a 3: ActualizaciÃ³n y eliminaciÃ³n + CRUD de perfiles y pagos
ğŸ“„ Loans [ ] D3-L1 Repositorio updateLoan(id, updates) con validaciÃ³n [ ] D3-L2 Repositorio deleteLoan(id) con DELETE real [ ] D3-L3 Test updateLoan() vÃ¡lido e invÃ¡lido [ ] D3-L4 Test deleteLoan() efectivo e idempotente

ğŸ§¾ Financial Profiles [ ] D3-F1 Repositorio updateFinancialProfile(id, updates) [ ] D3-F2 Test updateFinancialProfile() vÃ¡lido e invÃ¡lido

ğŸ’³ Payments [ ] D3-P1 Tabla payments con id, loan_id, amount, paid_at [ ] D3-P2 Repositorio savePayment(), getPaymentsByLoan() [ ] D3-P3 Actor validatePaymentInput() [ ] D3-P4 Test savePayment() vÃ¡lido e invÃ¡lido [ ] D3-P5 Test getPaymentsByLoan() incluye pago guardado

ğŸŸ£ DÃ­a 4: Modularidad final + CRUD de schedules
ğŸ§© Helpers y actores [ ] D4-H1 Actor createMockFinancialProfile() [ ] D4-H2 Actor generateLoanId() y generateFinancialProfileId() [ ] D4-H3 Refactor de tests con beforeAll y helpers [ ] D4-H4 createMockLoan() para setup completo [ ] D4-H5 validateLoanUpdate() para updates parciales [ ] D4-H6 generateValidUser(), generateValidPayment(), etc.

ğŸ“… Schedules [ ] D4-S1 Tabla schedules con id, loan_id, due_date, expected_amount [ ] D4-S2 Repositorio saveSchedule(), getScheduleByLoan() [ ] D4-S3 Actor validateScheduleInput() [ ] D4-S4 Test saveSchedule() vÃ¡lido e invÃ¡lido [ ] D4-S5 Test getScheduleByLoan() incluye cronograma

ğŸ¯ Resultado final en 4 dÃ­as









CRUD completo para loan, user, profile, payment, schedule

ValidaciÃ³n modular por entidad

Tests robustos para cada flujo

Helpers para setup DRY y trazable